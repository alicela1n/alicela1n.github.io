<!doctype html><html lang=en><meta charset=utf-8><meta name=generator content="Hugo 0.108.0"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=color-scheme content="light dark"><meta name=supported-color-schemes content="light dark"><title>Installing Gentoo on the Pentium III&nbsp;&ndash;&nbsp;Alice's Digital Notebook</title><link rel=stylesheet href=../../css/core.min.a678a8fcd442e588a3ce898bbe660b06284fb8602630b560fbd95e9c1e45f45ca7ca327d2f4cdbb0d0a8da2f0ebf8084.css integrity=sha384-pnio/NRC5YijzomLvmYLBihPuGAmMLVg+9lenB5F9FynyjJ9L0zbsNCo2i8Ov4CE><meta name=twitter:card content="summary"><meta name=twitter:title content="Installing Gentoo on the Pentium III"><body><section id=header><div class="header wrap"><span class="header left-side"><a class="site home" href=../../><span class="site name">Alice's Digital Notebook</span></a></span>
<span class="header right-side"><div class="nav wrap"><nav class=nav><a class="nav item" href=../../categories/>Categories</a><a class="nav item" href=../../tags/>Tags</a><a class="nav item" href=../../about/>About</a></nav></div></span></div><div class="site slogan"><span class=title>100% JavaScript-free</span></div></section><section id=content><div class=article-container><section class="article header"><h1 class="article title">Installing Gentoo on the Pentium III</h1><p class="article date">Sep 18, 2021</p></section><article class="article markdown-body"><p><strong>This blog post targets EXPERIENCED Gentoo users only, I&rsquo;m not helping you, and you are on your own! The future is uncertain, since this setup involves using old versions of some packages, and patches for others, it&rsquo;s uncertain whether or not it&rsquo;ll work tomorrow, or whether or not you&rsquo;ll be able to update this install in the future, so use at your own risk!</strong></p><p>This post is not 100% complete, but if I don&rsquo;t upload it now I won&rsquo;t ever.</p><h1 id=introduction><strong>Introduction</strong></h1><p>As you probably know, the Pentium III was released back in 1999. It is a CPU by Intel that&rsquo;s been used in desktops, laptops, and more recently, in the embedded world. Discontinued back in 2007, it lacks many features of modern Intel CPUs, including SSE2, which won&rsquo;t cause problems for the minimal Gentoo install, however it will cause problems when we build and install Xorg, due to rust being a requirement for many packages. Rust requires SSE2 to build, and the Pentium III lacks the SSE2 instruction. Gentoo has a binary package for rust, however it too requires SSE2 as the binary was built with SSE2.</p><p>Altogether the installation took a couple days, some of that was compile times, as well as getting everything to work. It took two days to get to the point where I can start an X server.</p><h1 id=problems-and-work-arounds><strong>Problems and work arounds</strong></h1><p>Without SSE2 we can technically build Xorg, however things like polkit, librsvg, and many others will require SSE2. I&rsquo;ve been putting together <a href=https://github.com/alicela1n/gentoo-piii target=_blank rel="noopener noreferrer">an overlay</a>
for versions of packages, as well as patches for some packages, such as polkit to get around the SSE2 requirement. I&rsquo;m not planning on actively maintaining it, so if you have any issues I may or may not fix it if you open a GitHub issue, or submit a poll request.Use it at your own risk, of course.</p><p>Since rust is out of the question for now, we can mask it to ensure that it doesn&rsquo;t get pulled in.</p><pre tabindex=0><code>/etc/portage/package.mask
# Rust cannot be bootstrapped on this old architecture
# Masking for now
dev-lang/rust
dev-lang/rust-bin
virtual/rust
</code></pre><p>Since you cannot use the desktop profile, you will need to pull in <code>x11-base/xorg-server</code> manually. Add my overlay and <code>echo "sys-auth/polkit duktape" > /etc/portage/package.use/polkit</code> and then <code>emerge --oneshot polkit</code> from it, although soon duktape support will be merged into polkit upstream, so this won&rsquo;t be required anymore. Then <code>emerge x11-base/xorg-server</code> to pull in Xorg.</p><p>LXDE and other desktop environments require <code>gnome-base/librsvg</code>, which upstream requires rust to build. In my overlay I have an old version of this package that works without rust, that same version is in the Gentoo repositories as of this date, however it&rsquo;s uncertain whether or not it&rsquo;ll be kept, and that&rsquo;s why it&rsquo;s in my overlay. In your <code>package.mask</code> add the following:</p><pre tabindex=0><code># Requires rust
&gt;=gnome-base/librsvg-2.48
&gt;=x11-themes/adwaita-icon-theme-40.1.1
</code></pre><h1 id=software><strong>Software</strong></h1><p>In terms of web browsers I decided to go with Pale Moon as it&rsquo;s a lightweight browser, based off of Firefox 3 or 4. It can be compiled without rust and without SSE2, which is perfect for the Pentium III.</p><h1 id=conclusion><strong>Conclusion</strong></h1><p>So once all that is done, you should have a Gentoo install on the Pentium III without having rust. Is it worth it? Well it&rsquo;s a fun experiment, however probably not if you actually want to use this. The future is uncertain, and it might not keep working forever. Maybe I&rsquo;m just a masochist. Knowing these experiments have no practical use, I just like doing them anyway.</p></article><section class="article author"><img class=avatar src="https://avatars.githubusercontent.com/u/18562602?v=4" alt><p class=name>alicela1n</p><div class=bio>Magical girl from another dimension.</div><div class=details><a class=item href=https://github.com/alicela1n target=_blank rel="noopener noreferrer"><span class="iconfont icon-github"></span>&nbsp;alicela1n</a></div></section></div><div class="article bottom"><section class="article navigation"><p><a class=link href=../../post/2021-10-18-manjarno/><span class="iconfont icon-article"></span>Why I don't recommend Manjaro Linux</a></p><p><a class=link href=../../post/2021-09-17-why-i-use-arch-linux/><span class="iconfont icon-article"></span>Why I use Arch Linux</a></p></section></div></section><section id=footer><div style=display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between><p style=flex-shrink:0>Â©2022 alicela1n</p><a rel=me href=https://mastodon.online/@alicela1n>Mastodon</a><p><span>Powered by </span><a href=https://gohugo.io target=_blank>Hugo</a><span> and the </span><a href=https://themes.gohugo.io/hugo-notepadium/ target=_blank>Notepadium</a></p></div></section></body></html>