<!doctype html><html lang=en><meta charset=utf-8><meta name=generator content="Hugo 0.108.0"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=color-scheme content="light dark"><meta name=supported-color-schemes content="light dark"><title>Restoring and updating iOS devices from Linux with iDeviceRestore&nbsp;&ndash;&nbsp;Alice's Digital Notebook</title><link rel=stylesheet href=../../css/core.min.a678a8fcd442e588a3ce898bbe660b06284fb8602630b560fbd95e9c1e45f45ca7ca327d2f4cdbb0d0a8da2f0ebf8084.css integrity=sha384-pnio/NRC5YijzomLvmYLBihPuGAmMLVg+9lenB5F9FynyjJ9L0zbsNCo2i8Ov4CE><meta name=twitter:card content="summary"><meta name=twitter:title content="Restoring and updating iOS devices from Linux with iDeviceRestore"><body><section id=header><div class="header wrap"><span class="header left-side"><a class="site home" href=../../><span class="site name">Alice's Digital Notebook</span></a></span>
<span class="header right-side"><a class="nav item" href=../../pages/about/><span class="iconfont icon-aboutus"></span>&nbsp;About</a>
<a class="nav item" href=https://github.com/alicela1n target=_blank><span class="iconfont icon-logo_github"></span>&nbsp;Github</a>
<a rel=me href=https://mastodon.online/@alicela1n>Mastodon</a></span></div><div class="site slogan"><span class=title>100% JavaScript-free</span></div></section><section id=content><div class=article-container><section class="article header"><h1 class="article title">Restoring and updating iOS devices from Linux with iDeviceRestore</h1><p class="article date">Jan 07, 2020</p></section><article class="article markdown-body"><h1 id=introduction><strong>Introduction</strong></h1><p>You may be a Linux user, but you may have an iPhone as well. Occasionally there will be times when you&rsquo;ll need to restore and update your iPhone. You may think that because you&rsquo;re using Linux you are unable to restore or update your iOS device without a virtual machine or dualboot. Thankfully this is not true. Thanks to the developers behind libimobiledevice there are new tools to do the restore and update process directly from Linux. The tool is called idevicerestore!</p><h1 id=installation><strong>Installation</strong></h1><p>Thankfully for Arch Linux users it&rsquo;s already in the <a href=https://aur.archlinux.org/packages/idevicerestore-git/ target=_blank rel="noopener noreferrer">AUR</a>
! On Ubuntu and other distros that use the apt package manager you can install it using this <a href=https://gist.github.com/stek29/2d3d0e2f2d1c14f8be68ce3a296585e9 target=_blank rel="noopener noreferrer">script</a>
although I cannot confirm this script works so beware that I haven&rsquo;t tested. Another options is compiling the <a href=https://github.com/libimobiledevice/idevicerestore target=_blank rel="noopener noreferrer">source code</a>
.</p><h1 id=using><strong>Using</strong></h1><p>Typing <code>idevicerestore</code> in the terminal will show you the syntax.</p><pre tabindex=0><code>Usage: idevicerestore [OPTIONS] PATH
Restore IPSW firmware at PATH to an iOS device.

PATH can be a compressed .ipsw file or a directory containing all files
extracted from an IPSW.

Options:
 -i, --ecid ECID  Target specific device by its ECID
                  e.g. 0xaabb123456 (hex) or 1234567890 (decimal)
 -u, --udid UDID  Target specific device by its device UDID
                  NOTE: only works with devices in normal mode.
 -l, --latest     Use latest available firmware (with download on demand).
                  Before performing any action it will interactively ask to
                  select one of the currently signed firmware versions,
                  unless -y has been given too.
                  The PATH argument is ignored when using this option.
                  DO NOT USE if you need to preserve the baseband (unlock)!
                  USE WITH CARE if you want to keep a jailbreakable firmware!
 -e, --erase      Perform a full restore, erasing all data (defaults to update)
                  DO NOT USE if you want to preserve user data on the device!
 -y, --no-input   Non-interactive mode, do not ask for any input.
                  WARNING: This will disable certain checks/prompts that are
                  supposed to prevent DATA LOSS. Use with caution.
 -n, --no-action  Do not perform any restore action. If combined with -l option
                  the on-demand ipsw download is performed before exiting.
 -h, --help       Prints this usage information
 -C, --cache-path DIR  Use specified directory for caching extracted or other
                  reused files.
 -d, --debug      Enable communication debugging

Advanced/experimental options:
 -c, --custom     Restore with a custom firmware
 -s, --cydia      Use Cydia&#39;s signature service instead of Apple&#39;s
 -x, --exclude    Exclude nor/baseband upgrade
 -t, --shsh       Fetch TSS record and save to .shsh file, then exit
 -k, --keep-pers  Write personalized components to files for debugging
 -p, --pwn        Put device in pwned DFU mode and exit (limera1n devices only)

Homepage: &lt;http://libimobiledevice.org&gt;
</code></pre><p>For restoring to the latest iOS version which is the thing most people will do, you simply do <code>idevicerestore -e -l</code></p><pre tabindex=0><code>~ ❯ idevicerestore -e -l
Found device in Normal mode
Identified device as n71ap, iPhone8,1
The following firmwares are currently being signed for iPhone8,1:
  [1] 13.3 (build 17C54)
Select the firmware you want to restore: 1
Selected firmware 13.3 (build 17C54)
Downloading firmware (http://updates-http.cdn-apple.com/2019FallFCS/fullrestores/061-61296/1EFCEDB4-179E-11EA-B3B3-D73E73E9483A/iPhone_4.7_13.3_17C54_Restore.ipsw)
</code></pre><p>More advanced things you can do is use <code>-t</code> to save shsh blobs although I&rsquo;m not sure this works on 64bit. You can also put the device into pwned DFU mode if it&rsquo;s A4 and restore a CFW.</p><h1 id=wrap-up><strong>Wrap Up</strong></h1><p>This tool has saved me many times. I recommend everyone check out idevicerestore if they want a way to restore iOS devices from Linux. If you have an iOS device it&rsquo;s a helpful tool to keep installed even if you won&rsquo;t be using it much.</p></article><section class="article author"><img class=avatar src="https://avatars.githubusercontent.com/u/18562602?v=4" alt><p class=name>alicela1n</p><div class=bio>Magical girl from another dimension.</div><div class=details><a class=item href=https://github.com/alicela1n target=_blank rel="noopener noreferrer"><span class="iconfont icon-github"></span>&nbsp;alicela1n</a></div></section></div><div class="article bottom"><section class="article navigation"><p><a class=link href=../../post/2020-03-20-running-osx-102-in-qemu/><span class="iconfont icon-article"></span>Running Mac OS X 10.2 in QEMU</a></p><p><a class=link href=../../post/2019-12-24-one-year-of-linux-on-the-2010-macbook-pro/><span class="iconfont icon-article"></span>One year of Linux on the 2010 MacBook Pro</a></p></section></div></section><section id=footer><div style=display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between><p style=flex-shrink:0>©2022 alicela1n</p><p><span>Powered by </span><a href=https://gohugo.io target=_blank>Hugo</a><span> and the </span><a href=https://themes.gohugo.io/hugo-notepadium/ target=_blank>Notepadium</a></p></div></section></body></html>